{"ast":null,"code":"import React,{useState,useEffect}from'react';import apiService from'../api/apiService';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const AttendanceLogs=()=>{const[attendanceData,setAttendanceData]=useState([]);const[loading,setLoading]=useState(true);useEffect(()=>{const fetchAttendance=async()=>{setLoading(true);try{// This endpoint fetches history for the logged-in user.\n// The backend could be extended to allow managers to see team history.\nconst response=await apiService.get('/attendance/history');setAttendanceData(response.data.data);}catch(error){console.error(\"Failed to fetch attendance logs:\",error);}finally{setLoading(false);}};fetchAttendance();},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"dashboard\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"dashboard-header\",children:\"My Attendance History\"}),loading?/*#__PURE__*/_jsx(\"p\",{children:\"Loading logs...\"}):/*#__PURE__*/_jsx(\"div\",{className:\"section\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"table table-bordered\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Date\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Status\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Clock In\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Clock Out\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Worked Hours\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:attendanceData.length===0?/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{colSpan:\"5\",children:\"No attendance data available\"})}):attendanceData.map(entry=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:new Date(entry.clock_in_time).toLocaleDateString()}),/*#__PURE__*/_jsx(\"td\",{children:entry.status}),/*#__PURE__*/_jsx(\"td\",{children:new Date(entry.clock_in_time).toLocaleTimeString()}),/*#__PURE__*/_jsx(\"td\",{children:entry.clock_out_time?new Date(entry.clock_out_time).toLocaleTimeString():'N/A'}),/*#__PURE__*/_jsx(\"td\",{children:entry.worked_hours||'N/A'})]},entry.id))})]})})]});};export default AttendanceLogs;","map":{"version":3,"names":["React","useState","useEffect","apiService","jsx","_jsx","jsxs","_jsxs","AttendanceLogs","attendanceData","setAttendanceData","loading","setLoading","fetchAttendance","response","get","data","error","console","className","children","length","colSpan","map","entry","Date","clock_in_time","toLocaleDateString","status","toLocaleTimeString","clock_out_time","worked_hours","id"],"sources":["C:/Users/Tshepiso Selemela/OneDrive/Documents/Tymstamp/FrontEnd/my-app/src/pages/AttendanceLogs.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport apiService from '../api/apiService';\r\n\r\nconst AttendanceLogs = () => {\r\n  const [attendanceData, setAttendanceData] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    const fetchAttendance = async () => {\r\n      setLoading(true);\r\n      try {\r\n        // This endpoint fetches history for the logged-in user.\r\n        // The backend could be extended to allow managers to see team history.\r\n        const response = await apiService.get('/attendance/history');\r\n        setAttendanceData(response.data.data);\r\n      } catch (error) {\r\n        console.error(\"Failed to fetch attendance logs:\", error);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchAttendance();\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"dashboard\">\r\n      <h2 className=\"dashboard-header\">My Attendance History</h2>\r\n      {loading ? <p>Loading logs...</p> : (\r\n        <div className=\"section\">\r\n          <table className=\"table table-bordered\">\r\n            <thead>\r\n              <tr>\r\n                <th>Date</th>\r\n                <th>Status</th>\r\n                <th>Clock In</th>\r\n                <th>Clock Out</th>\r\n                <th>Worked Hours</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {attendanceData.length === 0 ? (\r\n                <tr><td colSpan=\"5\">No attendance data available</td></tr>\r\n              ) : (\r\n                attendanceData.map((entry) => (\r\n                  <tr key={entry.id}>\r\n                    <td>{new Date(entry.clock_in_time).toLocaleDateString()}</td>\r\n                    <td>{entry.status}</td>\r\n                    <td>{new Date(entry.clock_in_time).toLocaleTimeString()}</td>\r\n                    <td>{entry.clock_out_time ? new Date(entry.clock_out_time).toLocaleTimeString() : 'N/A'}</td>\r\n                    <td>{entry.worked_hours || 'N/A'}</td>\r\n                  </tr>\r\n                ))\r\n              )}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AttendanceLogs;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}