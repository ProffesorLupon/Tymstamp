{"ast":null,"code":"import React,{useState,useEffect}from'react';import{FaClock,FaCalendarCheck,FaSignOutAlt,FaPlaneDeparture,FaFileAlt}from'react-icons/fa';import apiService from'./api/apiService';import{useAuth}from'./AuthContext';import'./App.css';import{jsxs as _jsxs,jsx as _jsx}from\"react/jsx-runtime\";const Dashboard=()=>{const{user,logout}=useAuth();// State for data fetched from API\nconst[attendanceHistory,setAttendanceHistory]=useState([]);const[travelLogs,setTravelLogs]=useState([]);const[leaveRequests,setLeaveRequests]=useState([]);const[todaysAttendance,setTodaysAttendance]=useState(null);const[loading,setLoading]=useState(true);// State for forms\nconst[travelPurpose,setTravelPurpose]=useState('');const[travelStartLocation,setTravelStartLocation]=useState('');const[leaveType,setLeaveType]=useState('sick');const[leaveReason,setLeaveReason]=useState('');const[leaveStartDate,setLeaveStartDate]=useState('');const[leaveEndDate,setLeaveEndDate]=useState('');const isClockedIn=todaysAttendance&&!todaysAttendance.clock_out_time;const fetchData=async()=>{setLoading(true);try{const[attendanceRes,travelRes,leaveRes,todayRes]=await Promise.all([apiService.get('/attendance/history'),apiService.get('/trips'),apiService.get('/leave/history'),apiService.get('/attendance/today')]);setAttendanceHistory(attendanceRes.data.data);setTravelLogs(travelRes.data.data);setLeaveRequests(leaveRes.data.data);setTodaysAttendance(todayRes.data);}catch(error){console.error(\"Failed to fetch dashboard data:\",error);}finally{setLoading(false);}};useEffect(()=>{fetchData();},[]);const handleClockInOut=async()=>{try{const position=await new Promise((resolve,reject)=>{navigator.geolocation.getCurrentPosition(resolve,reject);});const{latitude,longitude}=position.coords;const endpoint=isClockedIn?'/attendance/clock-out':'/attendance/clock-in';const response=await apiService.post(endpoint,{latitude,longitude});setTodaysAttendance(response.data.attendance);// Refresh all data after action\nfetchData();}catch(error){console.error('Clock-in/out failed:',error);alert('Could not perform clock-in/out. Please ensure location services are enabled.');}};const handleTravelLogSubmit=async e=>{e.preventDefault();try{const position=await new Promise((resolve,reject)=>{navigator.geolocation.getCurrentPosition(resolve,reject);});const{latitude,longitude}=position.coords;await apiService.post('/trips/start',{purpose:travelPurpose,start_location:travelStartLocation,start_latitude:latitude,start_longitude:longitude});setTravelPurpose('');setTravelStartLocation('');alert('Trip started successfully!');fetchData();// Refresh data\n}catch(error){console.error('Failed to start trip:',error);alert('Failed to start trip. You may have an active trip already.');}};const handleLeaveRequestSubmit=async e=>{e.preventDefault();try{await apiService.post('/leave/request',{leave_type:leaveType,reason:leaveReason,start_date:leaveStartDate,end_date:leaveEndDate});setLeaveType('sick');setLeaveReason('');setLeaveStartDate('');setLeaveEndDate('');alert('Leave request submitted successfully.');fetchData();// Refresh data\n}catch(error){console.error('Failed to submit leave request:',error);alert('Failed to submit leave request. Please check the details and try again.');}};return/*#__PURE__*/_jsxs(\"div\",{className:\"dashboard\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"dashboard-header\",children:[/*#__PURE__*/_jsxs(\"h2\",{children:[\"Welcome, \",user===null||user===void 0?void 0:user.name]}),/*#__PURE__*/_jsxs(\"button\",{className:\"btn btn-danger\",onClick:logout,children:[/*#__PURE__*/_jsx(FaSignOutAlt,{}),\" Logout\"]})]}),loading?/*#__PURE__*/_jsx(\"p\",{children:\"Loading...\"}):/*#__PURE__*/_jsxs(\"div\",{className:\"dashboard-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"section clock-in-out\",children:[/*#__PURE__*/_jsxs(\"h3\",{children:[/*#__PURE__*/_jsx(FaClock,{}),\" Attendance\"]}),/*#__PURE__*/_jsx(\"p\",{children:isClockedIn?`Clocked In at: ${new Date(todaysAttendance.clock_in_time).toLocaleTimeString()}`:'You are not clocked in.'}),/*#__PURE__*/_jsx(\"button\",{onClick:handleClockInOut,className:`btn ${isClockedIn?'btn-danger':'btn-success'}`,children:isClockedIn?'Clock Out':'Clock In'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"section travel-logs\",children:[/*#__PURE__*/_jsxs(\"h3\",{children:[/*#__PURE__*/_jsx(FaPlaneDeparture,{}),\" Start a New Trip\"]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleTravelLogSubmit,children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Purpose of Trip\",value:travelPurpose,onChange:e=>setTravelPurpose(e.target.value),required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Starting Location (e.g., Office)\",value:travelStartLocation,onChange:e=>setTravelStartLocation(e.target.value),required:true}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary\",children:\"Start Trip\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"section leave-requests\",children:[/*#__PURE__*/_jsxs(\"h3\",{children:[/*#__PURE__*/_jsx(FaFileAlt,{}),\" Submit Leave Request\"]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleLeaveRequestSubmit,children:[/*#__PURE__*/_jsxs(\"select\",{value:leaveType,onChange:e=>setLeaveType(e.target.value),required:true,children:[/*#__PURE__*/_jsx(\"option\",{value:\"sick\",children:\"Sick\"}),/*#__PURE__*/_jsx(\"option\",{value:\"casual\",children:\"Casual\"}),/*#__PURE__*/_jsx(\"option\",{value:\"paid\",children:\"Paid\"})]}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:leaveStartDate,onChange:e=>setLeaveStartDate(e.target.value),required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:leaveEndDate,onChange:e=>setLeaveEndDate(e.target.value),required:true}),/*#__PURE__*/_jsx(\"textarea\",{placeholder:\"Reason for leave\",value:leaveReason,onChange:e=>setLeaveReason(e.target.value),required:true}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary\",children:\"Submit Request\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"section\",children:[/*#__PURE__*/_jsxs(\"h3\",{children:[/*#__PURE__*/_jsx(FaCalendarCheck,{}),\" My Attendance History\"]}),/*#__PURE__*/_jsxs(\"table\",{className:\"table table-bordered\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Date\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Clock In\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Clock Out\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Worked Hours\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:attendanceHistory.length>0?attendanceHistory.map(log=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:new Date(log.clock_in_time).toLocaleDateString()}),/*#__PURE__*/_jsx(\"td\",{children:new Date(log.clock_in_time).toLocaleTimeString()}),/*#__PURE__*/_jsx(\"td\",{children:log.clock_out_time?new Date(log.clock_out_time).toLocaleTimeString():'N/A'}),/*#__PURE__*/_jsx(\"td\",{children:log.worked_hours||'N/A'})]},log.id)):/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{colSpan:\"4\",children:\"No records found.\"})})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"section\",children:[/*#__PURE__*/_jsxs(\"h3\",{children:[/*#__PURE__*/_jsx(FaPlaneDeparture,{}),\" My Travel History\"]}),/*#__PURE__*/_jsxs(\"table\",{className:\"table table-bordered\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Date\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Purpose\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Route\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Distance\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Status\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:travelLogs.length>0?travelLogs.map(log=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:new Date(log.start_time).toLocaleDateString()}),/*#__PURE__*/_jsx(\"td\",{children:log.purpose}),/*#__PURE__*/_jsxs(\"td\",{children:[log.start_location,\" to \",log.end_location||'N/A']}),/*#__PURE__*/_jsx(\"td\",{children:log.distance?`${parseFloat(log.distance).toFixed(2)} km`:'N/A'}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"span\",{className:`badge ${log.status==='completed'?'bg-success':'bg-info'}`,children:log.status})})]},log.id)):/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{colSpan:\"5\",children:\"No records found.\"})})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"section\",children:[/*#__PURE__*/_jsxs(\"h3\",{children:[/*#__PURE__*/_jsx(FaFileAlt,{}),\" My Leave Request History\"]}),/*#__PURE__*/_jsxs(\"table\",{className:\"table table-bordered\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Dates\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Type\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Reason\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Status\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:leaveRequests.length>0?leaveRequests.map(log=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsxs(\"td\",{children:[new Date(log.start_date).toLocaleDateString(),\" - \",new Date(log.end_date).toLocaleDateString()]}),/*#__PURE__*/_jsx(\"td\",{children:log.leave_type}),/*#__PURE__*/_jsx(\"td\",{children:log.reason}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"span\",{className:`badge ${log.status==='approved'?'bg-success':log.status==='rejected'?'bg-danger':'bg-warning'}`,children:log.status})})]},log.id)):/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{colSpan:\"4\",children:\"No records found.\"})})})]})]})]})]});};export default Dashboard;","map":{"version":3,"names":["React","useState","useEffect","FaClock","FaCalendarCheck","FaSignOutAlt","FaPlaneDeparture","FaFileAlt","apiService","useAuth","jsxs","_jsxs","jsx","_jsx","Dashboard","user","logout","attendanceHistory","setAttendanceHistory","travelLogs","setTravelLogs","leaveRequests","setLeaveRequests","todaysAttendance","setTodaysAttendance","loading","setLoading","travelPurpose","setTravelPurpose","travelStartLocation","setTravelStartLocation","leaveType","setLeaveType","leaveReason","setLeaveReason","leaveStartDate","setLeaveStartDate","leaveEndDate","setLeaveEndDate","isClockedIn","clock_out_time","fetchData","attendanceRes","travelRes","leaveRes","todayRes","Promise","all","get","data","error","console","handleClockInOut","position","resolve","reject","navigator","geolocation","getCurrentPosition","latitude","longitude","coords","endpoint","response","post","attendance","alert","handleTravelLogSubmit","e","preventDefault","purpose","start_location","start_latitude","start_longitude","handleLeaveRequestSubmit","leave_type","reason","start_date","end_date","className","children","name","onClick","Date","clock_in_time","toLocaleTimeString","onSubmit","type","placeholder","value","onChange","target","required","length","map","log","toLocaleDateString","worked_hours","id","colSpan","start_time","end_location","distance","parseFloat","toFixed","status"],"sources":["C:/Users/Tshepiso Selemela/OneDrive/Documents/Tymstamp/FrontEnd/my-app/src/Dashboard.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { FaClock, FaCalendarCheck, FaSignOutAlt, FaPlaneDeparture, FaFileAlt } from 'react-icons/fa';\r\nimport apiService from './api/apiService';\r\nimport { useAuth } from './AuthContext';\r\nimport './App.css';\r\n\r\nconst Dashboard = () => {\r\n  const { user, logout } = useAuth();\r\n\r\n  // State for data fetched from API\r\n  const [attendanceHistory, setAttendanceHistory] = useState([]);\r\n  const [travelLogs, setTravelLogs] = useState([]);\r\n  const [leaveRequests, setLeaveRequests] = useState([]);\r\n  const [todaysAttendance, setTodaysAttendance] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  // State for forms\r\n  const [travelPurpose, setTravelPurpose] = useState('');\r\n  const [travelStartLocation, setTravelStartLocation] = useState('');\r\n\r\n  const [leaveType, setLeaveType] = useState('sick');\r\n  const [leaveReason, setLeaveReason] = useState('');\r\n  const [leaveStartDate, setLeaveStartDate] = useState('');\r\n  const [leaveEndDate, setLeaveEndDate] = useState('');\r\n\r\n  const isClockedIn = todaysAttendance && !todaysAttendance.clock_out_time;\r\n\r\n  const fetchData = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const [attendanceRes, travelRes, leaveRes, todayRes] = await Promise.all([\r\n        apiService.get('/attendance/history'),\r\n        apiService.get('/trips'),\r\n        apiService.get('/leave/history'),\r\n        apiService.get('/attendance/today'),\r\n      ]);\r\n      setAttendanceHistory(attendanceRes.data.data);\r\n      setTravelLogs(travelRes.data.data);\r\n      setLeaveRequests(leaveRes.data.data);\r\n      setTodaysAttendance(todayRes.data);\r\n    } catch (error) {\r\n      console.error(\"Failed to fetch dashboard data:\", error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchData();\r\n  }, []);\r\n\r\n  const handleClockInOut = async () => {\r\n    try {\r\n      const position = await new Promise((resolve, reject) => {\r\n        navigator.geolocation.getCurrentPosition(resolve, reject);\r\n      });\r\n      const { latitude, longitude } = position.coords;\r\n\r\n      const endpoint = isClockedIn ? '/attendance/clock-out' : '/attendance/clock-in';\r\n      const response = await apiService.post(endpoint, { latitude, longitude });\r\n\r\n      setTodaysAttendance(response.data.attendance);\r\n      // Refresh all data after action\r\n      fetchData();\r\n\r\n    } catch (error) {\r\n      console.error('Clock-in/out failed:', error);\r\n      alert('Could not perform clock-in/out. Please ensure location services are enabled.');\r\n    }\r\n  };\r\n\r\n  const handleTravelLogSubmit = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n        const position = await new Promise((resolve, reject) => {\r\n            navigator.geolocation.getCurrentPosition(resolve, reject);\r\n        });\r\n        const { latitude, longitude } = position.coords;\r\n\r\n        await apiService.post('/trips/start', {\r\n            purpose: travelPurpose,\r\n            start_location: travelStartLocation,\r\n            start_latitude: latitude,\r\n            start_longitude: longitude,\r\n        });\r\n        setTravelPurpose('');\r\n        setTravelStartLocation('');\r\n        alert('Trip started successfully!');\r\n        fetchData(); // Refresh data\r\n    } catch (error) {\r\n        console.error('Failed to start trip:', error);\r\n        alert('Failed to start trip. You may have an active trip already.');\r\n    }\r\n  };\r\n\r\n  const handleLeaveRequestSubmit = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      await apiService.post('/leave/request', {\r\n        leave_type: leaveType,\r\n        reason: leaveReason,\r\n        start_date: leaveStartDate,\r\n        end_date: leaveEndDate,\r\n      });\r\n      setLeaveType('sick');\r\n      setLeaveReason('');\r\n      setLeaveStartDate('');\r\n      setLeaveEndDate('');\r\n      alert('Leave request submitted successfully.');\r\n      fetchData(); // Refresh data\r\n    } catch (error) {\r\n      console.error('Failed to submit leave request:', error);\r\n      alert('Failed to submit leave request. Please check the details and try again.');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"dashboard\">\r\n      <div className=\"dashboard-header\">\r\n        <h2>Welcome, {user?.name}</h2>\r\n        <button className=\"btn btn-danger\" onClick={logout}>\r\n          <FaSignOutAlt /> Logout\r\n        </button>\r\n      </div>\r\n\r\n      {loading ? <p>Loading...</p> : (\r\n        <div className=\"dashboard-content\">\r\n          <div className=\"section clock-in-out\">\r\n            <h3><FaClock /> Attendance</h3>\r\n            <p>{isClockedIn ? `Clocked In at: ${new Date(todaysAttendance.clock_in_time).toLocaleTimeString()}` : 'You are not clocked in.'}</p>\r\n            <button onClick={handleClockInOut} className={`btn ${isClockedIn ? 'btn-danger' : 'btn-success'}`}>\r\n              {isClockedIn ? 'Clock Out' : 'Clock In'}\r\n            </button>\r\n          </div>\r\n\r\n          <div className=\"section travel-logs\">\r\n            <h3><FaPlaneDeparture /> Start a New Trip</h3>\r\n            <form onSubmit={handleTravelLogSubmit}>\r\n              <input type=\"text\" placeholder=\"Purpose of Trip\" value={travelPurpose} onChange={(e) => setTravelPurpose(e.target.value)} required />\r\n              <input type=\"text\" placeholder=\"Starting Location (e.g., Office)\" value={travelStartLocation} onChange={(e) => setTravelStartLocation(e.target.value)} required />\r\n              <button type=\"submit\" className=\"btn btn-primary\">Start Trip</button>\r\n            </form>\r\n          </div>\r\n\r\n          <div className=\"section leave-requests\">\r\n            <h3><FaFileAlt /> Submit Leave Request</h3>\r\n            <form onSubmit={handleLeaveRequestSubmit}>\r\n              <select value={leaveType} onChange={(e) => setLeaveType(e.target.value)} required>\r\n                <option value=\"sick\">Sick</option>\r\n                <option value=\"casual\">Casual</option>\r\n                <option value=\"paid\">Paid</option>\r\n              </select>\r\n              <input type=\"date\" value={leaveStartDate} onChange={(e) => setLeaveStartDate(e.target.value)} required />\r\n              <input type=\"date\" value={leaveEndDate} onChange={(e) => setLeaveEndDate(e.target.value)} required />\r\n              <textarea placeholder=\"Reason for leave\" value={leaveReason} onChange={(e) => setLeaveReason(e.target.value)} required />\r\n              <button type=\"submit\" className=\"btn btn-primary\">Submit Request</button>\r\n            </form>\r\n          </div>\r\n\r\n          <div className=\"section\">\r\n            <h3><FaCalendarCheck /> My Attendance History</h3>\r\n            <table className=\"table table-bordered\">\r\n              <thead><tr><th>Date</th><th>Clock In</th><th>Clock Out</th><th>Worked Hours</th></tr></thead>\r\n              <tbody>\r\n                {attendanceHistory.length > 0 ? attendanceHistory.map(log => (\r\n                  <tr key={log.id}>\r\n                    <td>{new Date(log.clock_in_time).toLocaleDateString()}</td>\r\n                    <td>{new Date(log.clock_in_time).toLocaleTimeString()}</td>\r\n                    <td>{log.clock_out_time ? new Date(log.clock_out_time).toLocaleTimeString() : 'N/A'}</td>\r\n                    <td>{log.worked_hours || 'N/A'}</td>\r\n                  </tr>\r\n                )) : <tr><td colSpan=\"4\">No records found.</td></tr>}\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n\r\n          <div className=\"section\">\r\n            <h3><FaPlaneDeparture /> My Travel History</h3>\r\n            <table className=\"table table-bordered\">\r\n              <thead><tr><th>Date</th><th>Purpose</th><th>Route</th><th>Distance</th><th>Status</th></tr></thead>\r\n              <tbody>\r\n                {travelLogs.length > 0 ? travelLogs.map(log => (\r\n                  <tr key={log.id}>\r\n                    <td>{new Date(log.start_time).toLocaleDateString()}</td>\r\n                    <td>{log.purpose}</td>\r\n                    <td>{log.start_location} to {log.end_location || 'N/A'}</td>\r\n                    <td>{log.distance ? `${parseFloat(log.distance).toFixed(2)} km` : 'N/A'}</td>\r\n                    <td><span className={`badge ${log.status === 'completed' ? 'bg-success' : 'bg-info'}`}>{log.status}</span></td>\r\n                  </tr>\r\n                )) : <tr><td colSpan=\"5\">No records found.</td></tr>}\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n\r\n          <div className=\"section\">\r\n            <h3><FaFileAlt /> My Leave Request History</h3>\r\n            <table className=\"table table-bordered\">\r\n              <thead><tr><th>Dates</th><th>Type</th><th>Reason</th><th>Status</th></tr></thead>\r\n              <tbody>\r\n                {leaveRequests.length > 0 ? leaveRequests.map(log => (\r\n                  <tr key={log.id}>\r\n                    <td>{new Date(log.start_date).toLocaleDateString()} - {new Date(log.end_date).toLocaleDateString()}</td>\r\n                    <td>{log.leave_type}</td>\r\n                    <td>{log.reason}</td>\r\n                    <td><span className={`badge ${log.status === 'approved' ? 'bg-success' : log.status === 'rejected' ? 'bg-danger' : 'bg-warning'}`}>{log.status}</span></td>\r\n                  </tr>\r\n                )) : <tr><td colSpan=\"4\">No records found.</td></tr>}\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Dashboard;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}